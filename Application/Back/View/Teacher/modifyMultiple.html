<!DOCTYPE html>
<html lang="zh">

	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>修改多选题</title>
		<link rel="stylesheet" type="text/css" href="__PUBLIC__/teacher/css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="__PUBLIC__/teacher/SCEditor/minified/themes/default.min.css" />
	</head>

	<body>
		<div class="container-fluid">
			<div class="page-header" style="margin-top: 10px;">
				<h3 style="margin-top:0">修改多选题</h3>
			</div>
			<form action="{:U('Teacher/modifyMultiple')}" method="post" class="form">
                    <input type="hidden" name="mId" value="{$list1['mid']}">
			        <input type="hidden" name="quId" value="{$quId}">
					<div class="form-group">
						<h4>试题</h4>
						<textarea name="mTitle">{$list1['mtitle']}</textarea>
					</div>
					<div class="form-group">
						<h4>答案选项</h4>
					</div>
					<div class="form-group">
						<h6>(A)</h6>
						<textarea name="mA">{$list1['ma']}</textarea>
					</div>
					<div class="form-group">
						<h6>(B)</h6>
						<textarea name="mB">{$list1['mb']}</textarea>
					</div>
					<div class="form-group">
						<h6>(C)</h6>
						<textarea name="mC">{$list1['mc']}</textarea>
					</div>
					<div class="form-group">
						<h6>(D)</h6>
						<textarea name="mD">{$list1['md']}</textarea>
					</div>
						<div class="form-group" id="option1">
						<span>正确选项：</span>
						<span><input type="checkbox" name="mT[]" value="A" />A</span>&nbsp;
						<span><input type="checkbox" name="mT[]" value="B" />B</span>&nbsp;
						<span><input type="checkbox" name="mT[]" value="C" />C</span>&nbsp;
						<span><input type="checkbox" name="mT[]" value="D" />D</span>&nbsp;
					</div>
					<div class="form-group">
					   <div class="row">
					   	    <div class="col-sm-6">
					   	    	<h6>科目</h6>
								<select name="cName" class="form-control" id="option2">
									  <volist name="list2" id="vo">
								    	 <option value="{$vo['cname']}">{$vo['cname']}</option>
								     </volist>
								</select>
					   	    </div>
					   </div>									
					</div>
					<div class="form-group">
						<h6>分数</h6>
						<input type="number" class="form-control" name="score" id="" value="{$list1['score']}" style="width:300px;" />
					</div>
					<button type="submit" class="btn btn-success" data-dismiss="modal" style="width:150px;" >保存</button>
				</form>
		</div>
		<script src="__PUBLIC__/teacher/js/jquery-3.2.1.min.js"></script>
		<script src="__PUBLIC__/teacher/js/bootstrap.min.js"></script>
	    <script src="__PUBLIC__/teacher/SCEditor/minified/jquery.sceditor.bbcode.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$("textarea").sceditor({
				plugins: 'bbcode',
				height: '150px',
				width: '100%',
				resizeEnabled: false,
				toolbar: 'bold,italic,underline,strike,color,left,center,right,justify,font,size,table,bulletlist,orederedlist,link,subscript,superscript,image,code,date,time,maximize',
				style: "minified/jquery.sceditor.default.min.css"
			});
		</script>
	</body>
    <script type="text/javascript">
    	 $(function(){
    	 	  var mTrue = "{$list1['mtrue']}";
    	 	  var res = mTrue.split(',');
    	 	  console.log(res);
    	 	  var cName = "{$list1['cname']}";
    	 	// alert(cName);
    	 	  var option1 = $('#option1').find("input[type='checkbox']");
    	 	  console.log(option1);
    	 	  var option2 = $('#option2').find('option');
    	 	  var count1 = option1.length;
    	 	  var count2 = option2.length;
    	 	  for(var i=0;i<count1;i++){
    	 	  	  // alert(option1[i].innerText);
    	 	  	  for(var j=0;j<res.length;j++){
    	 	  	  	   if(option1[i].value === res[j]){
                        option1[i].setAttribute('checked','checked');
                        continue;
                    }
    	 	  	  }
                  
    	 	  }
    	 	  for(var i=0;i<count2;i++){
                   if(option2[i].innerText === cName){
                        option2[i].setAttribute('selected','selected');
                        break;
                   }
    	 	  }
    	 })
    </script>
</html>